@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


@model IEnumerable<Product>
<style>
    .item-function{

    }
    .Main-function{
        display: flex;
        justify-content: space-between;
        width: 30%;
        margin-bottom:3em;
    }
</style>
@* <div id="productcontainer">
    @Html.Partial("_PartialView", Model);
</div> *@
<div class="container" style="width:100%" id="ProductContainer">
    <div class="Main-function">
        <div class="item-function">
            <button id="Price-hightolow" onclick="filterPriceHighToLow()">Giá Cao -> Thấp</button>
        </div>
        <div class="item-function">
            <button id="Price-hightolow" onclick="filterPriceLowToHigh()">Giá Thấp -> Cao</button>
        </div>
        <div class="item-function">
            <select>
                <option value="1">Điện thoại</option>
                <option value="2">Máy tính</option>
                <option value="3">Khác</option>
            </select>
        </div>
    </div>

    @if(Model != null)
    {
        var count = 0;
        <div class="container"  style="height:100%;">
            <div class="row row-cols-md-6">
                @foreach(var item in Model)
                {
                <div class="col" style="height:25em;width:200px; display:flex; flex-direction:column;" >
                    <div style="width:80%;height:50%">
                            <img style="height:10em" src="@item.imageUrl" href="Link error" />
                            @* <img style="height:10em" src="https://photos.google.com/photo/AF1QipNDZ8FAA0CRRlMtXT8Erc3b3_UXoog5Llqc835H" href="Link error" /> *@
                    </div>
                    <b>@item.modelName</b>

                    <p>@item.price $</p>
                    <p>@item.description</p>
                </div>

                }

            </div>


        </div>
    }
</div>

<script type="text/javascript">

    function filterPriceHighToLow(){
        console.log("PriceHighToLow");
        var filter = new XMLHttpRequest();
        // filter.open("GET,"/ProductController/filterPriceHighToLow/",true);
        // filter.send();
        $.ajax({
            url: '@Url.Action("filterPriceHighToLow","Product")',
            type: 'GET',
            contentType: 'application/json;charset=utf-8',
            success: function (result) {
                $("#ProductContainer").html(result);
            }
        });
    };

    function filterPriceLowToHigh() {
        console.log("PriceLowToHigh");
        var filter = new XMLHttpRequest();
        // filter.open("GET,"/ProductController/filterPriceHighToLow/",true);
        // filter.send();
        $.ajax({
            url: '@Url.Action("filterPriceLowToHigh","Product")',
            type: 'GET',
            contentType: 'application/json;charset=utf-8',
            success: function (result) {
                $("#ProductContainer").html(result);
            }
        });
    }
</Script>
